<nav class="navbar navbar-dark bg-dark">
  <a class="navbar-brand" href="#">
    <img
      src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/57/Caduceus.svg/1200px-Caduceus.svg.png"
      style="
        width: 35px;
        height: 35px;
        margin-left: 10px;
        border-radius: 6px;
        border: 1px solid white;
        background-color: white;
      "
      class="d-inline-block align-top"
    />
    Vital Trending
  </a>
</nav>
<div style="background-color: rgb(189, 186, 186)">
  <br />
  <div
    style="
      text-align: center;
      color: black;
      border-style: solid;
      border-radius: 15px;
      margin: 0px 400px 0px 400px;
      background-color: rgb(114, 173, 230);
    "
  >
    <br />
    <h1>Welcome to Vital Trending</h1>
    <div style="text-align: center">
      <img
        style="height: 100px; width: 100px"
        src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/57/Caduceus.svg/1200px-Caduceus.svg.png"
      />
      <br />
      <br />
    </div>
  </div>
  <hr />
</div>
<h2 style="text-align: center">
  Total Enrolled Patients
  <span class="badge bg-success">{{ getTotalPatients() }}</span>
</h2>
<div *ngIf="!selected" id="patientList" class="container-fluid">
  <table
    id="mainTable"
    style="
      width: 75%;
      margin-left: auto;
      margin-right: auto;
      text-align: center;
    "
    class="table table-striped table-hover"
  >
    <thead class="table-dark">
      <tr>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Date of Birth</th>
        <th>Image</th>
        <th>Remove</th>
      </tr>
    </thead>

    <tbody *ngFor="let patient of patients">
      <tr>
        <!-- <td (click)="displayTodo(todo)">{{ todo.task }}</td> -->
        <td (click)="displayPatient(patient)">
          {{ patient.firstName }}
        </td>
        <td>{{ patient.lastName }}</td>
        <td>{{ patient.dateOfBirth }}</td>
        <td>
          <img
            style="height: 150px; width: 100px; border-radius: 8px"
            src="{{ patient.imageIdUrl }}"
          />
        </td>
        <td>
          <button class="btn btn-danger" (click)="deletePatient(patient)">
            X
          </button>
        </td>
      </tr>
    </tbody>
  </table>
  <hr />
</div>

<div
  class="fluid-container"
  style="
    text-align: center;
    border-style: solid;
    border-radius: 15px;
    margin: 25px 25px 25px 25px;
  "
  *ngIf="selected && !editSelected"
>
  <br />
  <ol>
    <li>{{ selected.firstName }}</li>
    <li>{{ selected.lastName }}</li>
    <li>{{ selected.dateOfBirth }}</li>
    <li>{{ selected.imageIdUrl }}</li>
  </ol>

  <span
    ><b
      ><img
        style="height: 250px; width: 200px; border-radius: 8px"
        src="{{ selected.imageIdUrl }}" /></b
  ></span>
  <div>
    <ol>
      <li>{{ selected.vitalSigns }}</li>
    </ol>
    <hr />
    <br />
  </div>

  <button class="btn btn-warning" (click)="setEditPatient()">Edit</button>

  <button
    style="margin-left: 20px"
    class="btn btn-secondary"
    (click)="displayPatientTable()"
  >
    Return
  </button>
  <br />
  <br />
</div>

<div
  class="mb-3 container-fluid"
  style="
    text-align: center;
    border-style: solid;
    border-radius: 15px;
    margin: 25px 25px 25px 25px;
  "
>
  <br />
  <form *ngIf="editSelected">
    <label class="form-label">First Name</label>
    <input type="text" name="firstName" [(ngModel)]="editSelected.firstName" />
    <br />
    <label class="form-label">Last Name</label>
    <input type="text" name="lastName" [(ngModel)]="editSelected.lastName" />
    <br />
    <label class="form-label">Date of Birth</label>
    <input
      type="text"
      name="dateOfBirth"
      [(ngModel)]="editSelected.dateOfBirth"
    />
    <br />
    <label class="form-label">Image URL</label>
    <input
      type="text"
      name="imageIdUrl"
      [(ngModel)]="editSelected.imageIdUrl"
    />
    <br />
    <button class="btn btn-warning" (click)="editSelected = null">
      Cancel
    </button>

    <button
      style="margin-left: 20px"
      class="btn btn-success"
      (click)="updatePatient(editSelected)"
    >
      Save
    </button>
    <br />
    <br />
  </form>
</div>

<div
  *ngIf="!selected"
  class="mb-3 container-fluid"
  style="
    text-align: center;
    color: black;
    border-style: solid;
    border-radius: 15px;
    width: 50%;
    margin-left: auto;
    margin-right: auto;

    background-color: rgb(207, 199, 120);
  "
>
  <form name="addPatientForm">
    <br />
    <label class="form-label">First Name</label>
    <input
      style="margin-left: 20px"
      type="text"
      name="firstName"
      [(ngModel)]="newPatient.firstName"
    />
    <br />
    <label class="form-label">Last Name</label>
    <input
      style="margin-left: 20px"
      type="text"
      name="lastName"
      [(ngModel)]="newPatient.lastName"
    />
    <br />
    <label class="form-label">Date of Birth</label>
    <input
      style="margin-left: 20px"
      type="date"
      name="dateOfBirth"
      [(ngModel)]="newPatient.dateOfBirth"
    />
    <br />
    <label class="form-label">Image URL</label>
    <input
      style="margin-left: 20px"
      type="text"
      name="imageIdUrl"
      [(ngModel)]="newPatient.imageIdUrl"
    />
    <br />
    <br />
    <button
      style="margin-left: 20px"
      class="btn btn-success"
      (click)="addPatient(newPatient)"
    >
      Add Patient
    </button>
    <br />
    <br />
  </form>
</div>
