<nav class="navbar navbar-dark bg-dark">
  <a class="navbar-brand" href="#">
    <img
      src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/57/Caduceus.svg/1200px-Caduceus.svg.png"
      style="
        width: 35px;
        height: 35px;
        margin-left: 10px;
        border-radius: 6px;
        border: 1px solid white;
        background-color: white;
      "
      class="d-inline-block align-top"
    />
    Vital Trending
  </a>
</nav>
<div style="background-color: rgb(189, 186, 186)">
  <br />
  <div
    class="mb-3 container-fluid"
    style="
      text-align: center;
      color: black;
      border-style: solid;
      border-radius: 15px;
      width: 95%;
      height: 100%;
      margin-left: auto;
      margin-right: auto;
      background-color: rgb(21, 22, 22);
    "
  >
    <div
      style="
        margin: auto;
        text-align: center;
        color: black;
        border-style: solid;
        border-radius: 15px;
        width: 98%;
        height: 85%;
        margin-top: 10px;
        margin-bottom: 10px;

        background-color: rgb(114, 173, 230);
      "
    >
      <br />
      <h1 style="color: black; text-shadow: 2px 2px 4px black">
        Welcome to Vital Trending
      </h1>
      <div style="text-align: center">
        <img
          style="height: 100px; width: 100px"
          src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/57/Caduceus.svg/1200px-Caduceus.svg.png"
        />
        <br />
        <br />
      </div>
    </div>
  </div>
  <hr />
</div>
<h2 style="text-align: center; color: black; text-shadow: 2px 2px 4px black">
  Total Enrolled Patients
  <span class="badge bg-dark">{{ getTotalPatients() }}</span>
</h2>
<hr />

<div
  *ngIf="!selected"
  class="mb-3 container-fluid"
  style="
    text-align: center;
    color: black;
    border-style: solid;
    border-radius: 15px;
    width: 74.5%;
    margin-left: auto;
    margin-right: auto;
    background-color: rgb(21, 22, 22);
  "
>
  <div
    class="mb-3 container-fluid"
    style="
      color: black;
      border-style: solid;
      border-radius: 15px;
      width: 95%;
      height: 95%;
      margin-left: auto;
      margin-right: auto;
      margin-top: 20px;
      margin-bottom: auto;
      background-color: rgb(114, 173, 230);
    "
  >
    <br />
    <h1
      style="text-align: center; color: black; text-shadow: 2px 2px 4px black"
    >
      Add New Patient
    </h1>
    <form name="addPatientForm">
      <br />

      <label class="form-label"><b>First Name: </b></label>
      <input
        style="margin-left: 20px"
        type="text"
        name="firstName"
        [(ngModel)]="newPatient.firstName"
      />
      <br />

      <label class="form-label">
        <b>Last Name: </b>
      </label>
      <input
        style="margin-left: 20px"
        type="text"
        name="lastName"
        [(ngModel)]="newPatient.lastName"
      />

      <br />

      <label class="form-label">
        <b>Date of Birth: </b>
      </label>

      <input
        style="margin-left: 20px"
        type="date"
        name="dateOfBirth"
        [(ngModel)]="newPatient.dateOfBirth"
      />

      <br />
      <label class="form-label">
        <b>Image URL: </b>
      </label>

      <input
        style="margin-left: 20px"
        type="text"
        name="imageIdUrl"
        [(ngModel)]="newPatient.imageIdUrl"
      />
      <br />

      <br />
      <div class="vstack gap-2 col-md-5 mx-auto">
        <button class="btn btn-dark" (click)="addPatient(newPatient)">
          Submit
        </button>
        <button class="btn btn-outline-dark" (click)="addFormClear(newPatient)">
          Cancel
        </button>
      </div>
      <br />
      <br />
    </form>
  </div>
</div>

<div *ngIf="!selected" id="patientList" class="container-fluid">
  <table
    id="mainTable"
    style="
      width: 75%;
      margin-left: auto;
      margin-right: auto;
      text-align: center;
    "
    class="table table-striped table-hover"
  >
    <thead class="table-dark">
      <tr>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Date of Birth</th>
        <th>Image</th>
        <th>Remove</th>
      </tr>
    </thead>

    <tbody *ngFor="let patient of patients">
      <tr>
        <!-- <td (click)="displayTodo(todo)">{{ todo.task }}</td> -->
        <td (click)="displayPatient(patient)">
          {{ patient.firstName }}
        </td>
        <td>{{ patient.lastName }}</td>
        <td>{{ patient.dateOfBirth }}</td>
        <td>
          <img
            style="height: 150px; width: 100px; border-radius: 8px"
            src="{{ patient.imageIdUrl }}"
          />
        </td>
        <td>
          <button class="btn btn-danger" (click)="deletePatient(patient)">
            X
          </button>
        </td>
      </tr>
    </tbody>
  </table>
  <hr />
</div>

<div
  class="fluid-container"
  style="
    text-align: center;
    border-style: solid;
    border-radius: 15px;
    margin: 25px 25px 25px 25px;
  "
  *ngIf="selected && !editSelected"
>
  <br />
  <span
    ><b
      ><img
        style="height: 250px; width: 200px; border-radius: 8px"
        src="{{ selected.imageIdUrl }}" /></b
  ></span>
  <br />
  <div
    style="
      width: 50%;
      margin-left: auto;
      margin-right: auto;
      text-align: center;
    "
  >
    <ul class="list-group">
      <li class="list-group-item">
        <label for="firstName"
          ><b>First Name: </b>
          {{ selected.firstName }}
        </label>
      </li>

      <li class="list-group-item">
        <label for="lastName"
          ><b>Last Name: </b>
          {{ selected.lastName }}
        </label>
      </li>

      <li class="list-group-item">
        <label for="dateOfBirth"
          ><b>Date of Birth: </b>
          {{ selected.dateOfBirth | date }}
        </label>
      </li>

      <li class="list-group-item">
        <label for="imageIdUrl"
          ><b>Image URL: </b>
          {{ selected.imageIdUrl }}
        </label>
      </li>
    </ul>
  </div>

  <br />
  <button class="btn btn-warning" (click)="setEditPatient()">Edit</button>

  <button
    style="margin-left: 20px"
    class="btn btn-primary"
    (click)="displayPatientTable()"
  >
    Return
  </button>
  <br />
  <br />
  <button class="btn btn-secondary" (click)="pullPtVitals(selected.id)">
    Vitals
  </button>
  <button
    style="margin-left: 10px"
    class="btn btn-secondary"
    (click)="pullPtFamilyMedicalHistory(selected.id)"
  >
    Family Medical History
  </button>
  <button
    style="margin-left: 10px"
    class="btn btn-secondary"
    (click)="pullPtMedicalHistory(selected.id)"
  >
    Medical History
  </button>
  <br />
  <br />
  <div id="patientVitals" class="container-fluid">
    <h1 style="text-align: center" *ngIf="vitalForm">Vital Signs</h1>
    <table
      *ngIf="vitalForm"
      style="
        width: 75%;
        margin-left: auto;
        margin-right: auto;
        text-align: center;
      "
      class="table table-striped table-hover"
    >
      <thead class="table-dark">
        <tr>
          <th>ID</th>
          <th>Vital Date Time</th>
          <th>Systolic Pressure</th>
          <th>Distolic Pressure</th>
          <th>Pulse Rate</th>
          <th>Temperature</th>
          <th>Respiratory Rate</th>
        </tr>
      </thead>

      <tbody *ngFor="let vital of vitalSigns">
        <tr>
          <td>{{ vital.id }}</td>
          <td>{{ vital.vitalDateTime | date: "medium" }}</td>
          <td>{{ vital.systolicPressure }}</td>
          <td>{{ vital.diastolicPressure }}</td>
          <td>{{ vital.pulseRate }}</td>
          <td>{{ vital.temperature }}</td>
          <td>{{ vital.respiratoryRate }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div id="patientFamilyMedicalHistory" class="container-fluid">
    <h1 style="text-align: center" *ngIf="fmhxForm">Family Medical History</h1>
    <table
      *ngIf="fmhxForm"
      style="
        width: 50%;
        margin-left: auto;
        margin-right: auto;
        text-align: center;
      "
      class="table table-striped table-hover"
    >
      <thead class="table-dark">
        <tr>
          <th>ID</th>
          <th>Medical Condition</th>
          <th>Family Relation</th>
        </tr>
      </thead>

      <tbody *ngFor="let fmhx of fmhxs">
        <tr>
          <td>{{ fmhx.id }}</td>
          <td>{{ fmhx.medicalCondition }}</td>
          <td>{{ fmhx.familyRelation }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div id="patientMedicalHistory" class="container-fluid">
    <h1 style="text-align: center" *ngIf="mhxForm">Medical History</h1>
    <table
      *ngIf="mhxForm"
      style="
        width: 50%;
        margin-left: auto;
        margin-right: auto;
        text-align: center;
      "
      class="table table-striped table-hover"
    >
      <thead class="table-dark">
        <tr>
          <th>ID</th>
          <th>Diagnosis</th>
          <th>Date Verified</th>
        </tr>
      </thead>

      <tbody *ngFor="let mhx of mhxs">
        <tr>
          <td>{{ mhx.id }}</td>
          <td>{{ mhx.diagnosis }}</td>
          <td>{{ mhx.dateVerified | date }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <br />
  <!-- <button class="btn btn-warning" (click)="setEditPatient()">Edit</button>

  <button
    style="margin-left: 20px"
    class="btn btn-secondary"
    (click)="displayPatientTable()"
  >
    Return
  </button> -->
  <br />
  <br />
</div>

<div
  *ngIf="editPtForm"
  class="container-fluid"
  style="
    text-align: center;
    border-style: solid;
    border-radius: 15px;
    width: 50%;
    margin-left: auto;
    margin-right: auto;
  "
>
  <br />
  <form *ngIf="editSelected">
    <label class="form-label">First Name</label>
    <input type="text" name="firstName" [(ngModel)]="editSelected.firstName" />
    <br />
    <label class="form-label">Last Name</label>
    <input type="text" name="lastName" [(ngModel)]="editSelected.lastName" />
    <br />
    <label class="form-label">Date of Birth</label>
    <input
      type="text"
      name="dateOfBirth"
      [(ngModel)]="editSelected.dateOfBirth"
    />
    <br />
    <label class="form-label">Image URL</label>
    <input
      type="text"
      name="imageIdUrl"
      [(ngModel)]="editSelected.imageIdUrl"
    />
    <br />
    <button class="btn btn-warning" (click)="editSelected = null">
      Cancel
    </button>

    <button
      style="margin-left: 20px"
      class="btn btn-success"
      (click)="updatePatient(editSelected)"
    >
      Save
    </button>
    <br />
    <br />
  </form>
</div>

<!-- <div
  *ngIf="!selected"
  class="mb-3 container-fluid"
  style="
    text-align: center;
    color: black;
    border-style: solid;
    border-radius: 15px;
    width: 35%;
    margin-left: auto;
    margin-right: auto;

    background-color: rgb(114, 173, 230);
  "
>
  <br />
  <h1 style="text-align: center; color: black; text-shadow: 2px 2px 4px black">
    Add New Patient
  </h1>
  <form name="addPatientForm">
    <br />

    <label class="form-label"><b>First Name: </b></label>
    <input
      style="margin-left: 20px"
      type="text"
      name="firstName"
      [(ngModel)]="newPatient.firstName"
    />
    <br />

    <label class="form-label">
      <b>Last Name: </b>
    </label>
    <input
      style="margin-left: 20px"
      type="text"
      name="lastName"
      [(ngModel)]="newPatient.lastName"
    />

    <br />

    <label class="form-label">
      <b>Date of Birth: </b>
    </label>

    <input
      style="margin-left: 20px"
      type="date"
      name="dateOfBirth"
      [(ngModel)]="newPatient.dateOfBirth"
    />

    <br />
    <label class="form-label">
      <b>Image URL: </b>
    </label>

    <input
      style="margin-left: 20px"
      type="text"
      name="imageIdUrl"
      [(ngModel)]="newPatient.imageIdUrl"
    />
    <br />

    <br />
    <button
      style="margin-left: 20px"
      class="btn btn-dark"
      (click)="addPatient(newPatient)"
    >
      Submit
    </button>
    <br />
    <br />
  </form>
</div> -->
